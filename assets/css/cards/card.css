.character-card {
    position: relative;
    width: 250px;
    height: 395.97px;
    perspective: 1000px;
    margin: 40px auto;
    cursor: pointer;
    will-change: transform, opacity;
}

.card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    /* Default state: card back is visible */
    transform: rotateY(180deg);
    transition: transform 0.6s cubic-bezier(.4, 2.3, .3, 1); /* Transition for the flip */
    transform-style: preserve-3d;
    will-change: transform;
}

.character-card.flipped .card-inner {
    /* Flipped state: card front is visible */
    transform: rotateY(0deg);
}

.card-front,
.card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    top: 0;
    left: 0;
    overflow: hidden;
    background: #202124;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}

.card-front {
    z-index: 2;
}

.card-back {
    transform: rotateY(180deg);
    z-index: 3;
    background: #202124;
}

.card-face-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.character-card.in-pack {
    opacity: 0;
    transform: scale(0.4) translateY(80px) rotateX(-30deg);
    transition: opacity 0.5s cubic-bezier(0.22, 0.61, 0.36, 1),
        transform 0.5s cubic-bezier(0.22, 0.61, 0.36, 1);
}

.character-card.in-pack.is-visible {
    opacity: 1;
    transform: scale(1) translateY(0px) rotateX(0deg);
}

.card-pack-opener {
    transition: transform 0.2s ease-in-out, opacity 0.3s ease-in-out;
}

.card-pack-opener:hover {
    transform: scale(1.05);
}

.card-pack-opener.opened {
    opacity: 0.6;
    cursor: default;
    transform: scale(0.95);
}